<process-dir height="502" id="consumer.module.Process" name="consumer.module.Process" type="process" width="353" x="140" y="20">
<partnerLinks>
<partner-link id="Process" myRole="use" name="Process" partnerLinkType="partnerLinkType1" partnerType="bw.soap"/>
<partner-link id="resource1" name="resource1" partnerLinkType="partnerLinkType2" partnerRole="use"/>
</partnerLinks>
<ProcessInfo createdBy="avazquez" createdOn="Sat Apr 13 18:52:58 CEST 2019" description="" modifiedBy="" modifiedOn="" modifiers="public" productVersion="2.4.2 HFEB8 V110 2019-03-18" scalable="true" singleton="true" stateless="true" type="IT"/>
<link-dir id="d80ff298-ee45-4749-b044-6e087060cca4" label="" linkType="SUCCESS" name="operationInToGetContext" points="[[142,83],[142,107]]" source="17c1b461-571d-4fd4-b827-ae0171f554ed" target="e8d43ac9-e8ff-4a12-9aca-fbf76dcfc78d"/>
<activity-dir createInstance="true" height="48" id="17c1b461-571d-4fd4-b827-ae0171f554ed" name="operationIn" operation="operation" partnerLink="Process" portType="Process" type="com.tibco.bw.core.design.process.editor.Activity_4002_Receive" variable="operationIn" width="48" x="118" y="34">
<variable>
<wsdl:part element="tns0:operationRequest" name="parameters"/>
</variable>
</activity-dir>
<link-dir id="b917c12f-8c69-4130-897b-7d614fbbfca6" label="" linkType="SUCCESS" name="operationToCopy_1_Log" points="[[142,307],[142,338]]" source="7db48ac2-d2b6-46cc-bd17-b20b9405a258" target="3334a1a4-a7e2-4d0a-b686-971b9e5ef78a"/>
<activity-dir height="48" id="7db48ac2-d2b6-46cc-bd17-b20b9405a258" inputVariable="operation-input" name="operation" outputVariable="operation" partnerLink="resource1" portType="resource1" type="com.tibco.bw.core.design.process.editor.Activity_4002_Invoke" width="48" x="118" y="258">
<inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:ns=&quot;http://www.example.org/schema/1555435758546&quot; xmlns:tns3=&quot;http://xmlns.example.com/20190413185258PLT&quot; xmlns:tns2=&quot;http://tns.tibco.com/bw/REST&quot; xmlns:tns5=&quot;/T1570353682705Converted/JsonSchema&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;operationIn&quot;/&gt;&lt;xsl:param name=&quot;GetContext&quot;/&gt;&lt;xsl:template name=&quot;operation-input&quot; match=&quot;/&quot;&gt;&lt;tns3:postRequest1&gt;&lt;item&gt;&lt;tns5:operationRequest&gt;&lt;tns5:in&gt;&lt;xsl:value-of select=&quot;$operationIn/parameters/ns:operationRequest/in&quot;/&gt;&lt;/tns5:in&gt;&lt;/tns5:operationRequest&gt;&lt;/item&gt;&lt;httpHeaders&gt;&lt;tns2:httpHeaders&gt;&lt;xsl:copy-of select=&quot;$GetContext/DynamicHeaders&quot;/&gt;&lt;/tns2:httpHeaders&gt;&lt;/httpHeaders&gt;&lt;/tns3:postRequest1&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
<partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:ns=&quot;http://www.example.org/schema/1555435758546&quot; xmlns:tns3=&quot;http://xmlns.example.com/20190413185258PLT&quot; xmlns:tns2=&quot;http://tns.tibco.com/bw/REST&quot; xmlns:tns5=&quot;/T1570353682705Converted/JsonSchema&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;operationIn.parameters&quot;/&gt;&#10;    &lt;xsl:template name=&quot;operation-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns5:operationRequest&gt;&#10;            &lt;tns5:in&gt;&#10;                &lt;xsl:value-of select=&quot;$operationIn.parameters/in&quot;/&gt;&#10;            &lt;/tns5:in&gt;&#10;        &lt;/tns5:operationRequest&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
</activity-dir>
<activity-dir height="48" id="a348cd8b-1b3f-4647-bc4c-aa49b9703748" name="operationOut" operation="operation" partnerLink="Process" portType="Process" type="com.tibco.bw.core.design.process.editor.Activity_4002_Reply" variable="operationOut-input" width="48" x="118" y="424">
<inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns1=&quot;http://www.example.org/wsdl/1555435758268&quot; xmlns:ns=&quot;http://www.example.org/schema/1555435758546&quot; xmlns:tns5=&quot;/T1570353682705Converted/JsonSchema&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;operation&quot;/&gt;&lt;xsl:template name=&quot;operationOut-input&quot; match=&quot;/&quot;&gt;&lt;tns1:operationResponse&gt;&lt;parameters&gt;&lt;ns:operationResponse&gt;&lt;image&gt;&lt;xsl:value-of select=&quot;$operation/item/tns5:operationResponse/tns5:image&quot;/&gt;&lt;/image&gt;&lt;xsl:for-each select=&quot;$operation/item/tns5:operationResponse/tns5:results&quot;&gt;&lt;results&gt;&lt;name&gt;&lt;xsl:value-of select=&quot;tns5:name&quot;/&gt;&lt;/name&gt;&lt;score&gt;&lt;xsl:value-of select=&quot;tns5:score&quot;/&gt;&lt;/score&gt;&lt;/results&gt;&lt;/xsl:for-each&gt;&lt;/ns:operationResponse&gt;&lt;/parameters&gt;&lt;/tns1:operationResponse&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
<partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns1=&quot;http://www.example.org/wsdl/1555435758268&quot; xmlns:ns=&quot;http://www.example.org/schema/1555435758546&quot; xmlns:tns5=&quot;/T1570353682705Converted/JsonSchema&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;operation.item&quot;/&gt;&#10;    &lt;xsl:template name=&quot;operationOut-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;ns:operationResponse&gt;&#10;            &lt;image&gt;&#10;                &lt;xsl:value-of select=&quot;$operation.item/tns5:image&quot;/&gt;&#10;            &lt;/image&gt;&#10;            &lt;xsl:for-each select=&quot;$operation.item/tns5:results&quot;&gt;&#10;                &lt;results&gt;&#10;                    &lt;name&gt;&#10;                        &lt;xsl:value-of select=&quot;tns5:name&quot;/&gt;&#10;                    &lt;/name&gt;&#10;                    &lt;score&gt;&#10;                        &lt;xsl:value-of select=&quot;tns5:score&quot;/&gt;&#10;                    &lt;/score&gt;&#10;                &lt;/results&gt;&#10;            &lt;/xsl:for-each&gt;&#10;        &lt;/ns:operationResponse&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
</activity-dir>
<link-dir id="5fe7523d-9700-4981-8c29-1b14162df454" label="" linkType="SUCCESS" name="GetContextTooperation" points="[[142,156],[142,187]]" source="e8d43ac9-e8ff-4a12-9aca-fbf76dcfc78d" target="eadc4afa-83d2-4433-95cb-44d41e3dbd59"/>
<activity-dir height="48" id="e8d43ac9-e8ff-4a12-9aca-fbf76dcfc78d" name="GetContext" type="bw.internal.getContext" width="48" x="118" y="107">
<BWActivity activityTypeID="bw.internal.getContext">
<activityConfig>
<properties name="config" type="activityconfig:EMFProperty">
<type href="http://ns.tibco.com/bw/core/internalactivity#//GetContext"/>
<value operationName="operation" partnerName="Process" type="internalactivities:GetContext"/>
</properties>
</activityConfig>
</BWActivity>
</activity-dir>
<link-dir id="eb161c84-db99-49fe-b494-61c5b31eced7" label="" linkType="SUCCESS" name="LogTooperation" points="[[142,236],[142,258]]" source="eadc4afa-83d2-4433-95cb-44d41e3dbd59" target="7db48ac2-d2b6-46cc-bd17-b20b9405a258"/>
<activity-dir height="48" id="eadc4afa-83d2-4433-95cb-44d41e3dbd59" name="preInvocation_Log" type="bw.generalactivities.log" width="48" x="118" y="187">
<inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns6=&quot;http://www.tibco.com/pe/WriteToLogActivitySchema&quot; xmlns:ns=&quot;http://www.example.org/schema/1555435758546&quot; xmlns:tib=&quot;http://www.tibco.com/bw/xslt/custom-functions&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;operationIn&quot;/&gt;&lt;xsl:param name=&quot;GetContext&quot;/&gt;&lt;xsl:template name=&quot;preInvocation_Log-input&quot; match=&quot;/&quot;&gt;&lt;tns6:ActivityInput&gt;&lt;message&gt;&lt;xsl:value-of select=&quot;concat($GetContext/DynamicHeaders/Header[Name=&amp;quot;x-b3-spanid&amp;quot;]/Value, &amp;quot;| Received Consumer Request: [&amp;quot;,  tib:render-xml( $operationIn/parameters/ns:operationRequest,true(),false())     ,&amp;quot;]&amp;quot;)&quot;/&gt;&lt;/message&gt;&lt;/tns6:ActivityInput&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
<partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns6=&quot;http://www.tibco.com/pe/WriteToLogActivitySchema&quot; xmlns:ns=&quot;http://www.example.org/schema/1555435758546&quot; xmlns:tib=&quot;http://www.tibco.com/bw/xslt/custom-functions&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;operationIn.parameters&quot;/&gt;&#10;    &lt;xsl:param name=&quot;GetContext&quot;/&gt;&#10;    &lt;xsl:template name=&quot;preInvocation_Log-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns6:ActivityInput&gt;&#10;            &lt;message&gt;&#10;                &lt;xsl:value-of select=&quot;concat($GetContext/DynamicHeaders/Header[Name=&amp;quot;x-b3-spanid&amp;quot;]/Value, &amp;quot;| Received Consumer Request: [&amp;quot;,  tib:render-xml( $operationIn.parameters,true(),false())     ,&amp;quot;]&amp;quot;)&quot;/&gt;&#10;            &lt;/message&gt;&#10;        &lt;/tns6:ActivityInput&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
<BWActivity activityTypeID="bw.generalactivities.log" version="6.0.0.001">
<activityConfig>
<properties name="config" type="activityconfig:EMFProperty">
<type href="http://ns.tibco.com/bw/palette/generalactivities#//Log"/>
<value role="Info" suppressJobInfo="true" type="generalactivities:Log"/>
</properties>
</activityConfig>
</BWActivity>
</activity-dir>
<link-dir id="e7c4b315-0c4d-41f5-9db0-0961f8f65e8b" label="" linkType="SUCCESS" name="Copy_1_LogTooperationOut" points="[[142,387],[142,424]]" source="3334a1a4-a7e2-4d0a-b686-971b9e5ef78a" target="a348cd8b-1b3f-4647-bc4c-aa49b9703748"/>
<activity-dir height="48" id="3334a1a4-a7e2-4d0a-b686-971b9e5ef78a" name="postInvocation_Log" type="bw.generalactivities.log" width="48" x="118" y="338">
<inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns6=&quot;http://www.tibco.com/pe/WriteToLogActivitySchema&quot; xmlns:tns5=&quot;/T1570353682705Converted/JsonSchema&quot; xmlns:tib=&quot;http://www.tibco.com/bw/xslt/custom-functions&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;operation&quot;/&gt;&lt;xsl:param name=&quot;GetContext&quot;/&gt;&lt;xsl:template name=&quot;postInvocation_Log-input&quot; match=&quot;/&quot;&gt;&lt;tns6:ActivityInput&gt;&lt;message&gt;&lt;xsl:value-of select=&quot;concat($GetContext/DynamicHeaders/Header[Name=&amp;quot;x-b3-spanid&amp;quot;]/Value, &amp;quot;| Received  Response: [&amp;quot;,  tib:render-xml($operation/item/tns5:operationResponse,true(),false()),&amp;quot;]&amp;quot;)&quot;/&gt;&lt;/message&gt;&lt;/tns6:ActivityInput&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
<partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns6=&quot;http://www.tibco.com/pe/WriteToLogActivitySchema&quot; xmlns:tns5=&quot;/T1570353682705Converted/JsonSchema&quot; xmlns:tib=&quot;http://www.tibco.com/bw/xslt/custom-functions&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;operation.item&quot;/&gt;&#10;    &lt;xsl:param name=&quot;GetContext&quot;/&gt;&#10;    &lt;xsl:template name=&quot;postInvocation_Log-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns6:ActivityInput&gt;&#10;            &lt;message&gt;&#10;                &lt;xsl:value-of select=&quot;concat($GetContext/DynamicHeaders/Header[Name=&amp;quot;x-b3-spanid&amp;quot;]/Value, &amp;quot;| Received  Response: [&amp;quot;,  tib:render-xml($operation.item,true(),false()),&amp;quot;]&amp;quot;)&quot;/&gt;&#10;            &lt;/message&gt;&#10;        &lt;/tns6:ActivityInput&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
<BWActivity activityTypeID="bw.generalactivities.log" version="6.0.0.001">
<activityConfig>
<properties name="config" type="activityconfig:EMFProperty">
<type href="http://ns.tibco.com/bw/palette/generalactivities#//Log"/>
<value role="Info" suppressJobInfo="true" type="generalactivities:Log"/>
</properties>
</activityConfig>
</BWActivity>
</activity-dir>
</process-dir>
